<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey and 3D Embeddings Analysis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="shortcut icon" type="image/png" href="python-logo.png"/>
    <script>
        let results = [0, 0, 0, 0]; // Initialize survey results

        function registerChoice(questionNumber, choice) {
            results[questionNumber] = choice; // 1 for Yes, 0 for No
            document.getElementById('surveyResult').innerText = 'Survey responses: ' + results.join(', ');
        }

        function performMatrixMultiplication() {
            // Example weighting (or transformation), replace with actual use case
            let matrixA = [
                [1], // Weight for question 1
                [2], // Weight for question 2
                [3], // Weight for question 3
                [4]  // Weight for question 4
            ];
            let matrixB = [results]; // Survey results as matrix
        
            // Perform operation akin to element-wise multiplication
            let resultMatrix = matrixA.map((value, index) => value[0] * matrixB[0][index]);
        
            // Display the result
            document.getElementById('matrixResult').innerText = 'Result: ' + resultMatrix.join(', ');
        }

        // Add this function for Heroku dynamic content
        function getHelloWorld() {
            fetch('https://threedempee-a6d964fcaa65.herokuapp.com/helloworld')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('helloWorld').innerText = data.message;
                })
                .catch(error => {
                    console.error('Error fetching Hello World:', error);
                });
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>3D Embeddings of all Members of the 58th UK parliament</h1>
        <!-- Additional section for Heroku app response -->
        <div class="my-3">
            <h2>Heroku App Response:</h2>
            <button onclick="getHelloWorld()" class="btn btn-primary">Get Hello World</button>
            <p id="helloWorld">Hello world result will appear here</p>
        </div>
        <!-- Existing content -->
        <p>Each MP in the UK votes either For, Against or abstains on any bill that comes through parliament. By converting these votes to [-1, 0, 1], I used singular value decomposition to reduce the voting matrix to 3 dimensions, rendering a 3D embedding for each MP:</p>
        <iframe src="3D2.html" width="1200" height="900" style="border:1px solid black;"></iframe>

        <div class="my-3">
            <h2>Survey:</h2>
            <div id="questions">
                <!-- Your existing survey buttons and questions -->
            </div>
            <div id="surveyResult" class="mt-3"></div>
            <div id="matrixResult" class="mt-3"></div>
        </div>
    </div>
</body>
</html>
